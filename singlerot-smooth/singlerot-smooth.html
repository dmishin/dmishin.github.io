<!doctype html>
<html>
  <meta charset="utf-8"> 
  <head>
    <title>Single Rotation cellular automaton with smooth interpolation</title>
    <link rel="stylesheet" type="text/css" href="styles.css"/>
  </head>
  <body>
    <div id="main-screen">
      <div class="top-toolbar">
	<button id="btn-play-pause" class="transparent-image-button" title="Play/Pause">
	  <img src="images/ic_pause_24px.svg" style="width:3em;height:3em">
	</button>
	<button id="btn-clear" class="transparent-image-button" title="Clear field">
	  <img src="images/ic_clear_24px.svg" style="width:3em;height:3em">
	</button>
	<button id="btn-random" class="transparent-image-button" title="Random pattern">
	  <img src="images/ic_help_24px.svg" style="width:3em;height:3em">
	</button>
      </div>
      <div class="top-right-toolbar">
	<a href="help.html" target="_blank" class="transparent-image-link" title="What's this?">
	  <img src="images/ic_help_24px.svg" style="width:3em;height:3em">
	</a>
      </div>
      
      <canvas id="sim-canvas" width="800" height="600"></canvas>
    </div>

    <div id="controls">
      <div id="speed" class="controls-row">
	<div class="controls-cell label"><span title="Generations per second">gen/s</span>: </div>
	<div class="controls-cell">
	  <input type="radio" id="sim-speed4" name="radios-sim-speed" value="1">
	  <label for="sim-speed4">1</label> 	

	  <input type="radio" id="sim-speed5" name="radios-sim-speed" value="5">
	  <label for="sim-speed5">5</label> 	

	  <input type="radio" id="sim-speed6" name="radios-sim-speed" value="10">
	  <label for="sim-speed6">10</label> 	
	  <input type="radio" id="sim-speed6-5" name="radios-sim-speed" value="30" checked>
	  <label for="sim-speed6-5">30</label> 	
	  <input type="radio" id="sim-speed7" name="radios-sim-speed" value="50">
	  <label for="sim-speed7">50</label> 	
	  <input type="radio" id="sim-speed8" name="radios-sim-speed" value="100">
	  <label for="sim-speed8">100</label> 	
	  <input type="radio" id="sim-speed9" name="radios-sim-speed" value="200">
	  <label for="sim-speed9">200</label> 	
	  <input type="radio" id="sim-speed10" name="radios-sim-speed" value="500">
	  <label for="sim-speed10">500</label> 	
	  <input type="radio" id="sim-speed11" name="radios-sim-speed" value="1000">
	  <label for="sim-speed11">1000</label> 	
	  <input type="radio" id="sim-speed12" name="radios-sim-speed" value="3000">
	  <label for="sim-speed12">3000</label>
	</div>
      </div>
      <div id="smoothing" class="controls-row">
	<div class="controls-cell label"><span title="Filter higher frequencies">filter:</span></div>
	<div class="controls-cell">
	<input type="radio" id="smoothing-radio1" name="radios-smoothing" value="1" >
	<label for="smoothing-radio1">No</label>
	
	<input type="radio" id="smoothing-radio3" name="radios-smoothing" value="4" checked>
	<label for="smoothing-radio3">4</label>
	
	<input type="radio" id="smoothing-radio4" name="radios-smoothing" value="12" >
	<label for="smoothing-radio4">12</label>
	
	<input type="radio" id="smoothing-radio5" name="radios-smoothing" value="48" >
	<label for="smoothing-radio5">48</label>
	
	<input type="radio" id="smoothing-radio6" name="radios-smoothing" value="120" >
	<label for="smoothing-radio6">120</label>
	</div>
      </div>

      <div id="trails" class="controls-row">
	<div class="controls-cell label">trails:</div>
	<div class="controls-cell">
	<input type="radio" id="trails-radio1" name="radios-trails" value="1.0" >
	<label for="trails-radio1">No</label>

	<input type="radio" id="trails-radio2" name="radios-trails" value=".15" >
	<label for="trails-radio2">Short</label>

	<input type="radio" id="trails-radio3" name="radios-trails" value=".05" checked>
	<label for="trails-radio3">Normal</label>

	<input type="radio" id="trails-radio5" name="radios-trails" value=".005" >
	<label for="trails-radio5">Long</label>
	
	<input type="radio" id="trails-radio6" name="radios-trails" value="0" >
	<label for="trails-radio6">Infinite</label>
	</div>
      </div>
    </div> <!-- end of controls -->

    <h2>Scene library</h3>
    <div>
      <ul id="library" class="library"></ul>  
    </div>

    <h2>Custom scene</h3>
    <div id="scene-editor">
      <div>
	<textarea id="fld-text" spellcheck="false"></textarea>
      </div>
      <div>
	<button id="btn-load-fdl">Load</button>
      </div>

      <h3>Scene description language</h3>
      <p>
	Scene is described by a sequence of statements, separated by newlines or ";". Statement names are case-sensitive.
	Four statements are supported:
	<dl>
	  <dt><span class="command">at</span> <span class="arg1">X<span> <span class="arg2">Y</span></dt>
	  <dd>Sets current origin to the cell with coordinates <span class="arg1">X</span>, <span class="arg2">Y</span>. Used by the following <span class="command">rle</span> commands.</dd>
	  <dt><span class="command">--</span> <span class="arg1">TEXT</span></dt>
	  <dd>Defines description text. Several lines may be defined. Text can not contain semicolons (;).</dd>
	  
	  <dt><span class="arg1">PATTERN_RLE</span></dt>
	  <dd>Puts given RLE code at the current coorinates. Rle code is a standard format, used by many cellular automata simulators.
	    <ul><li><span class="command">b</span> encodes empty cell,</li>
	      <li><span class="command">o</span> - alive cell,</li>
	      <li><span class="command">$</span> - new line,</li>
	      <li>numbers encode repeat count of the following character.</li>
	    </ul>
	  </dd>
	  
	  <dt><span class="command">colors</span> <span class="arg1">COLOR-LIST</span></dt>
	  <dd>Sets current color palette. When adding patterns, new cell colors are taken from this pattern.
	    <span class="arg1">COLOR-LIST</span> can be either a ":"-separated list of any CSS colors, or the text "default". In the latter case, pattern is returned to the default. Example: <span class="command">colors</span> <span class="arg1">red:#00ff00:rgb(0,0,255)</span>.
	  </dd>
	</dl>
	Effect of the <span class="command">at</span> and <span class="command">colors</span> statements lasts until they are redefined. Additional spaces and empty lines are ignored.
      </p>
    </div>

    
    <script type="text/javascript" src="default_library.js"></script> 
    <script type="text/javascript" src="flight.js"></script> 
    <!--<script type="text/javascript" src="flight.min.js"></script>-->
    
    <script type="text/javascript">
      window.runCanvasSimulation();
    </script>
  </body>
</html>
